<h1 class="display-1 text-center mt-5 mb-4 text-primary">LIBRARY</h1>

<div class="row justify-content-center">
   

   
    <div class=" card col-12 col-md-3 col-xs-4  mx-auto text-center "> 
        <div class="card-header">
            <h2 class="card-header">FILTERS</h2>
        </div>
        <div class="card-body">
    <form action="/book/book-filter-name" method="post" class="" require>
        <div class="mb-3" >
            <label for="name" class="form-label display-4">Name:</label>
            <input name="name" id="name" class="form-control"/>
            <button class="btn btn-info col-6 mt-2"> filter</button>
        </div>
        
    </form>
    <form action="/book/book-filter-categories" method="post" class="" >
        <div class="mb-3" >
            
            <label for="categoriesToFilter" class="form-label display-4">Categories: </label>  
            <select class="form-select" name="categoriesToFilter[]" id="categoriesToFilter" multiple required>
                {{#each categories}}
                <option value="{{this.id}}">{{this.name}}</option>
                {{/each}}
            </select>   
             <button class="btn btn-outline-info col-6 mt-2">filter</button>
         </div> 
         <P>(press ctrl + click to select multiple options)</P>
        
    </form>
    </div>
    <a href="/book/book-index" class="btn btn-success">unfilter</a>
    </div> 

    <div class="col-12 col-md-9 col-xs-8 mx-auto">
        {{#if IsEmpty}}
            <h3 class="text-center text-muted">There are no books available</h3>
        {{else}}
            <div class="row">
                {{#each books}}
                    <div class="col-lg-4 col-md-6 mb-4 ">
                        <div class="card h-100 shadow-sm background mask">
                            <a href="/book/book-detail/{{this.id}}" class="text-decoration-none">
                                <img src="{{this.coverImgPath}}" alt="{{this.title}}" class="card-img-top img-fluid rounded-top img-responsive">
                                
                                <div class="card-body">
                                    <h5 class="card-title text-center text-primary">{{this.title}}</h5>
                                    <h6 class="card-subtitle text-center text-secondary">{{this.publicationYear}}</h6>
                                    <hr>
                                    <div class="card-text">
                                        <p class="text-muted mb-1"><strong>Author:</strong> {{this.Author.dataValues.name}}</p>
                                        <p class="text-muted mb-1"><strong>Editorial:</strong> {{this.Editorial.dataValues.name}}</p>
                                        <p class="text-muted"><strong>Category:</strong> {{this.Category.dataValues.name}}</p>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                {{/each}}
            </div>
        {{/if}}
    </div>
</div>